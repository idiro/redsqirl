<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j">

<a4j:loadBundle basename="MessagesResources_em_US" var="messages" />

<head>
<link rel="stylesheet" type="text/css" href='#{facesContext.externalContext.requestContextPath}/css/jquery-ui.css' />
<link rel="stylesheet" type="text/css" href='#{facesContext.externalContext.requestContextPath}/css/idm.css' />

<script	src='#{facesContext.externalContext.requestContextPath}/js/jquery-1.9.1.js'	type="text/javascript"></script>
<script	src="#{facesContext.externalContext.requestContextPath}/js/jquery-ui-1.10.0.custom.js"></script>
<script	src='#{facesContext.externalContext.requestContextPath}/js/kinetic-v4.3.3.js' type="text/javascript"></script>
<script	src='#{facesContext.externalContext.requestContextPath}/js/jquery.cookie.js' type="text/javascript"></script>

<script	src='#{facesContext.externalContext.requestContextPath}/js/canvas.js' type="text/javascript"></script>
<script	src='#{facesContext.externalContext.requestContextPath}/js/idm.js' type="text/javascript"></script>
<script	src='#{facesContext.externalContext.requestContextPath}/js/splitter.js'	type="text/javascript"></script>
<script	src='#{facesContext.externalContext.requestContextPath}/js/scrollabletab.js' type="text/javascript"></script>
<script	src='#{facesContext.externalContext.requestContextPath}/js/plusTabs.js'	type="text/javascript"></script>
<script	src='#{facesContext.externalContext.requestContextPath}/js/jquery.blockUI.js' type="text/javascript"></script>

<title><h:outputText value="#{messages.label_sistem}" /></title>

<script type="text/javascript">
		           
		 var contTabCanvas = 1;
		           
	    jQuery.noConflict();

		  jQuery(function() {
			  nameTabs[0] = "canvas-1";

	    	  configureTabsRemote();
	    	  configureFooter();

	    	  var tabscanvas = jQuery("#canvas-tabs").tabs().scrollabletab();
	    	  tabscanvas.find(".ui-tabs-nav").sortable({
	    	  axis: "x",
	    	  items: 'li:not(.locked)',
	    	  stop: function() {
	    		  tabscanvas.tabs("refresh");
	    	  	}
	    	  });

	    	  jQuery("#tabs1").tabs().scrollabletab();
	    	  jQuery("#tabs2").tabs().scrollabletab();
	    	  
  	        var tabsGroup = jQuery( "#tabs1, #tabs2, #tabFlowchart" ).tabs();
  	        
  	    	tabsGroup.find( ".ui-tabs-nav" ).sortable({
  	            connectWith: '.ulCss',
  	          	items: 'li:not(.locked)',
  	            receive: function (event, ui) {
  	            	
  	            		var receiver = jQuery(this).parent(),
  	                    sender = jQuery(ui.sender[0]).parent(),
  	                    tab = ui.item[0],
  	                    tab$ = jQuery(ui.item[0]),
  	                    panelId = tab$.attr( "aria-controls" );

  	            		insertBefore = document.elementFromPoint(event.pageX,event.pageY);

	  	                tab$ = jQuery(tab$.removeAttr(jQuery.makeArray(tab.attributes).map(function(item){ return item.name;}).join(' ')).remove());
	  	                tab$.find('a').removeAttr('id tabindex role class');

	  	              	if(insertBefore.parentElement == tab){
		                    insertBefore = document.elementFromPoint(event.pageX + insertBefore.offsetWidth, event.pageY);
		                }
		                insertBefore = jQuery(insertBefore).closest('li[role="tab"]').get(0);
		                if(insertBefore)
		                    tab$.insertBefore(insertBefore);
		                else
		                	jQuery(this).append(tab$);

		                jQuery(jQuery( "#" + panelId ).remove()).appendTo(receiver);
	  	              	tabsGroup.tabs('refresh');
	

		  	            //source
	  	            	//jQuery(ui.sender[0]).parent().attr("id");
	  	            	
	  	            	//destination
	  	            	//jQuery(this).parent().attr("id");
	  	            	  	            	
	  	            	//item
	  	            	//jQuery(ui.item[0]).attr("aria-labelledby");
	  	            	//aria-controls
	  	              	
	  	              	//copy on source and delete from destination
	  	              	var allTabsDestination = jQuery("#" + jQuery(this).parent().attr("id")).find(".allTabs");
	  	              	var allTabsSource = jQuery("#" + jQuery(ui.sender[0]).parent().attr("id")).find(".allTabs");

	  	              	allTabsDestination.find("a[href$=" + jQuery(ui.item[0]).attr("aria-controls") + "]").clone().click(function (event) {
			    		  event.preventDefault();
			    		  $plusTabs.find('.allTabs').slideUp('fast');
			    		}).appendTo(allTabsSource);
	  	              	
	  	            	allTabsDestination.find("a[href$=" + jQuery(ui.item[0]).attr("aria-controls") + "]").remove();

	
	  	              	jQuery("#canvas-tabs").tabs().tabs('refresh');
	  	              	jQuery("#tabRemote").tabs().tabs('refresh');
	  	              	
	  	              	
	  	              	jQuery("#"+jQuery(this).parent().attr("id")).tabs("option", "active", jQuery(ui.item[0]).index());

	  	              	canvasResizeSplitter();

  	            }

  	        });
  	    	
  	    	jQuery("#idtabs-8").click(function () {
  	    		jQuery("#buttonstabRemote").hide();
	  	    	jQuery("#buttonstabRemote").css("left", jQuery("#tabRemote").width()-30+'px');
   				validateArrows(jQuery("#tabRemote"),jQuery("#buttonstabRemote"));
	        });

  	    	jQuery("#idtabFlowchart-1").click(function () {
  	    		resizing();
	        });
  	    	
  	    	var contTabRemote = 1;
  	        
  	    	/* jQuery('#addTabRemote').click( function(){

  	  	    	jQuery("[id$='linkModalNewSsh']").click();

  	  	  	}); */

	    	  jQuery('#addtabCanvas').click( function(){
	              //<![CDATA[
	              
	              contTabCanvas++;
	                         
	              var tabName = "canvas-"+contTabCanvas;
	              addWorkflowTab(tabName);
	              
	              addWorkflow(tabName);
	              configureCanvas(tabName);
	              
	              setWorkflow(tabName);

	              validateArrows(jQuery("#canvas-tabs"),jQuery("#buttonsCanvas1"));
	              
	              //]]>
	          });

	    	  jQuery(".splitterV").splitter({
	    			type: "v",
	    			minLeft: 200,
	    			minRight: 200,
	    			sizeLeft: jQuery(window).width()*2/3, 
	    			sizeRight: jQuery(window).width()/3,
	    			cookie: "splitterV"
	    		});

	    	  jQuery("#splitterH").splitter({
	    			type: "h", 
	    			minTop: 100,
	    			minBottom: 100,
	    			cookie: "splitterH"
	    			//sizeTop: jQuery(window).height()/2 -60,
	    			//sizeBottom: jQuery(window).height()/2 -60
	    		});

	    	  onPageReady();

				var i = 0;
	    	  
		    	jQuery(window).resize(function() {
		    	    clearTimeout(this.id);
		    	    this.id = setTimeout(doneResizing, 100);
		    	});
	
	    		function doneResizing(){
		    		
					if(i == 0){
						clearTimeout(this.id);
	    				resizing();
			    	    this.id = setTimeout(changeValue, 100);
	    				i++;
					}
					
	    		}

	    		function changeValue(){
		    		i = 0;
		    	}

	    		jQuery( "#tabs1" ).plusTabs({
		  	        className: "plusTabs",
		  	        seeMore: true,
		  	        seeMoreText: " ",
		  	        showCount: false,
		  	        expandIcon: "&#9660; ",
		  	        dropWidth: "66%",
		  	        sizeTweak: 30

		  	    });

	    		jQuery( "#tabs2" ).plusTabs({
		  	        className: "plusTabs",
		  	        seeMore: true,
		  	        seeMoreText: " ",
		  	        showCount: false,
		  	        expandIcon: "&#9660; ",
		  	        dropWidth: "66%",
		  	        sizeTweak: 30

		  	    });

	    		jQuery( "#tabFlowchart" ).plusTabs({
		  	        className: "plusTabs",
		  	        seeMore: true,
		  	        seeMoreText: " ",
		  	        showCount: false,
		  	        expandIcon: "&#9660; ",
		  	        dropWidth: "66%",
		  	        sizeTweak: 30

		  	    });


	    		var allTabs = jQuery("#tabs1").find(".allTabs");
		  	    
	    		 jQuery("#changeTabTabs1").click(function() {

	    			 allTabs = jQuery("#tabs2").find(".allTabs");
	    			 allTabs.hide();
	    			 allTabs = jQuery("#tabFlowchart").find(".allTabs");
	    			 allTabs.hide();
	    			 
	    			 allTabs = jQuery("#tabs1").find(".allTabs");

	    			 var tabsRealWidth = 0;
	    			 jQuery("#tabs1 ul:first li").each(function (index, element) {
		    			 tabsRealWidth += jQuery(element).width();
		    		 });
	    			 allTabs.css("left", parseInt(tabsRealWidth) +'px');

	    			 var $tabIndex = jQuery("#tabs1").tabs('option', 'active');
	    			 var $selected = jQuery("#tabs1 ul>li a").eq($tabIndex).attr('href');
	    			 allTabs.css("margin-top", -1 * jQuery($selected).height() + 'px');
	    			 
	    			 allTabs.show();

		    		  allTabs.mouseleave(function() {
			    			  allTabs.hide();
		    		  });
		    		  
	    		  });

	    		 jQuery("#changeTabTabs2").click(function() {

	    			 allTabs = jQuery("#tabs1").find(".allTabs");
	    			 allTabs.hide();
	    			 allTabs = jQuery("#tabFlowchart").find(".allTabs");
	    			 allTabs.hide();
	    			 
	    			 allTabs = jQuery("#tabs2").find(".allTabs");

	    			 var tabsRealWidth = 0;
	    			 jQuery("#tabs2 ul:first li").each(function (index, element) {
		    			 tabsRealWidth += jQuery(element).width();
		    		 });
	    			 allTabs.css("left", parseInt(tabsRealWidth) +'px');

	    			 var $tabIndex = jQuery("#tabs2").tabs('option', 'active');
	    			 var $selected = jQuery("#tabs2 ul>li a").eq($tabIndex).attr('href');
	    			 allTabs.css("margin-top", -1 * jQuery($selected).height() + 'px');
	    			 
	    			 allTabs.show();

		    		  allTabs.mouseleave(function() {
			    		  allTabs.hide();
		    		  });
		    		  
	    		  });

	    		 jQuery("#changeTabCanvas").click(function() {

	    			 allTabs = jQuery("#tabs1").find(".allTabs");
	    			 allTabs.hide();
	    			 allTabs = jQuery("#tabs2").find(".allTabs");
	    			 allTabs.hide();
	    			 
	    			 allTabs = jQuery("#tabFlowchart").find(".allTabs");

	    			 var tabsRealWidth = 0;
	    			 jQuery("#tabFlowchart ul:first li").each(function (index, element) {
		    			 tabsRealWidth += jQuery(element).width();
		    		 });
	    			 allTabs.css("left", parseInt(tabsRealWidth) +'px');

	    			 var $tabIndex = jQuery("#tabFlowchart").tabs('option', 'active');
	    			 var $selected = jQuery("#tabFlowchart ul>li a").eq($tabIndex).attr('href');
	    			 allTabs.css("margin-top", -1 * jQuery($selected).height() + 'px');
	    			 
	    			 allTabs.show();

		    		  allTabs.mouseleave(function() {
			    		  allTabs.hide();
		    		  });
		    		  
	    		  });
	    		 
	    		 var isChrome = window.chrome;
	    		 if(isChrome){
		    		 
		    		 //disable select in chrome
		    		 jQuery('*').css('-webkit-user-select', 'none');
		    		 jQuery('input').css('-webkit-user-select', 'text');
		    		 jQuery('#canvas-1').css('position', 'fixed');
		    		 
				 }

	    		 jQuery("#tabsFooter").find("a").click(function() {
	    			 resizeCanvasChangeTab();
	    		 });
	    		 
	    		 window.onbeforeunload = function(){
	    			 invalidateSession();
	    		 }
	    		 
	    		 //setTimeout(function(){refreshProcManager()}, 20*1000);
	    		 setTimeout(function(){autoSaveAll()}, 10*1000);
	    		 
	    	});	//---------- END jQuery(function
	    			
	    	function autoSaveAll(){
	    		try{
	    			var currentSelect = getAllIconPositions();
	                if(allPositionIcons === undefined){
	                	if(currentSelect !== undefined){
	                		allPositionIcons = currentSelect;
	                        saveAllPositions(currentSelect);
	                	}
	                }else if(currentSelect !== allPositionIcons){
	                	allPositionIcons = currentSelect;
                        saveAllPositions(currentSelect);
                        refreshProcManagerCount = 30;
	                }
                }catch(err){
                }
	    		setTimeout(function(){autoSaveAll()},10*60*1000);
            }
	    	
	        function refreshProcManager(){
	        	if(refreshProcManagerCount > 0){
	        	 jQuery("[id$='RefreshProcessManager']").click();
	        	 --refreshProcManagerCount;
	        	}
	    		setTimeout(function(){refreshProcManager()},20*1000);
	    	}
	    			
	    	function configureFooter(){
	    		 var tabsFooter = jQuery("#tabsFooter").tabs().scrollabletab();
		    	  tabsFooter.find(".ui-tabs-nav").sortable({
		    	  axis: "x",
		    	  stop: function() {
		    		  tabsFooter.tabs("refresh");
		    	  	}
		    	  });
		    	  
		    	  jQuery("#tabsFooter").tabs().tabs('refresh');
		    	  
		    	  configureFooterCss();
	    	}

	    	

	      function closeTab(arg){
	    	  
	    	  jQuery(jQuery( arg ).prev().attr('href')).remove();
	    	  jQuery( arg ).offsetParent().remove();
	    	  
	      }
	      
	      function menuCloseTab(){
	    	  var tabName = getSelected();
	    	  
	    	  var ul = jQuery("#canvas-tabs ul:first li #"+tabName+"-icon-close");
	    	  closeWorkflowTab(ul, tabName);
	    	  
	      }
	      
	      function addElementJs(canvasName, path, positions){
	    	  addWorkflowTab(canvasName);
	    	  configureCanvas(canvasName);
	    	  addElements(canvasName, positions);
	    	  setSaved(canvasName, true);
	    	  setPathFile(canvasName, path);
	      }
	      
	      function addLinksJs(canvasName, links){
	    	  addLinks(canvasName, links);
	      }
	      
	      function updateCanvasRunningStatus(status){
	    	//<![CDATA[
	    	  for (var i = 0; i < status.length; i++) {
	    	  	updateActionRunningStatus(status[i][0], status[i][1], status[i][2]);
	    	  }
	    	//]]>
	      }
	      
	      
	      
	      var numTabs = 1;
	      var nameTabs = {};
	      
	      function addWorkflowTab(tabName){
	    	//<![CDATA[
	    	  var tabs = jQuery("#canvas-tabs").tabs();
              var ul = jQuery("#canvas-tabs").tabs().find( "ul:first" );
             
              jQuery( "<li class='locked'><a href='#"+ tabName +"' onclick=\"jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });setWorkflow('"+tabName+"');\">"+ 
            		  tabName +"</a> <span id='"+tabName+"-icon-close' class='ui-icon ui-icon-close' onclick=\"closeWorkflowTab(this, '"+tabName+"')\"></span> </li>" ).appendTo( ul );
              
              var div = "<div id='"+tabName+"'>"+
				"<div id='container-"+tabName+"' class='container-"+tabName+"'>"+
				
				"<div class='rich-panel' onclick=\"jQuery('#panelLegend-"+tabName+"').toggle();return false;\"  style='position: fixed; z-index:101; width:190px'>"+
					"<div class='rich-panel-header'>Legend</div>"+
				"</div>"+
				"<div class='rich-panel' id='panelLegend-"+tabName+"'  style='position: fixed; z-index:100; visible:false; width:190px; height:300px'>"+
					"<div class='rich-panel-body' style='overflow:hidden;'>"+
						"<div id='container-legend-"+tabName+"' class='container-legend-"+tabName+"' style='overflow:hidden; position: relative; top:20px;'/>"+
					"</div>"+
	        	"</div>"+
				
              	"</div>"+
				"</div>";
              
              jQuery(div).appendTo( tabs );
              tabs.tabs( "refresh" );
              
              //select new tab
              tabs.tabs("option", "active", numTabs);
              nameTabs[numTabs] = tabName;
              numTabs++;
              setSelected(tabName);
            //]]>
	      }
	      
	      function closeWorkflowTab(tab, tabName){
	    	//<![CDATA[
	    	  closeTab(tab);
	    	  closeWorkflow(tabName);
	    	  
	    	  jQuery("#canvas-tabs").tabs( "refresh" );
	    	  
	    	  var names = {};
	    	  var cont = 0;
	    	  for (var i = 0; i < numTabs; ++i){
	    		  if (nameTabs[i] != tabName){
	    			  names[cont++] = nameTabs[i];
	    		  }
	    	  }
	    	  numTabs--;
	    	  nameTabs = names;
	    	  selectTab(numTabs-1);
	    	//]]>
	      }
	      
	      function closeAllWorkflowTabs(){
              var ul = jQuery("#canvas-tabs ul:first li .ui-icon");
              
              jQuery.each(ul, function(index, value){
            	  closeTab(value);
              });
             
              contTabCanvas = 1;
              numTabs = 0;
    	      nameTabs = {};
              
              addWorkflowTab("canvas-1");
              addWorkflow("canvas-1");
              configureCanvas("canvas-1");
              setWorkflow("canvas-1");
	      }
	      
	     function selectTab(tabIndex){
	    	 var tabs = jQuery("#canvas-tabs").tabs();
	    	 tabs.tabs("option", "active", tabIndex);
	    	 setWorkflow(nameTabs[tabIndex]);
	     }

	   	jQuery(document).bind('keypress', function (e) {
			if (e.which == 13) { // Delete
				//alert(jQuery("#modalChangeIdCDiv").is(':visible'));
				if(jQuery("#modalChangeIdCDiv").is(':visible')){ // modalChangeId
					jQuery("[id$='changeIdElementBt']").click();
				}
			}
		});

	   	function disableEnterKey(e){
	        var key;
	        if(window.event)
	             key = window.event.keyCode;
	        else
	             key = e.which;
	        return (key != 13);
	   }
	   	
	   	function verifyIfIsRunning(canvas){
	   		jQuery('#canvas-tabs').unblock();
	   		if (isRunning(canvas)){
	   			updateWorkflowUrl();
	   		}
	   	}
	   	
	   	function onHideModalSaveWorkflow(){
	   	//<![CDATA[
	   		indexSaving++;
	   		if (isSaveAll == true && indexSaving < numTabs){
	   			setWorkflow(nameTabs[indexSaving]);
	   			if (isSaved(nameTabs[indexSaving])){
		   			save(getPathFile(nameTabs[indexSaving]));
		   		}
		   		else{
		   			Richfaces.showModalPanel('modalSaveWorkflow');
		   		}
	   		}
	   		else{
	   			isSaveAll = false;
	   		}
	   	//]]>
	   	}
	   	
	   	var isSaveAll = false;
	   	var indexSaving;
	   	
	   	function saveAll(){
	   		isSaveAll = true;
	   		indexSaving = 0;
	   		setWorkflow(nameTabs[indexSaving]);
	   		if (isSaved(nameTabs[indexSaving])){
	   			save(getPathFile(nameTabs[indexSaving]));
	   		}
	   		else{
	   			Richfaces.showModalPanel('modalSaveWorkflow');
	   		}
	   	}
	   	
	   	function menuSave(){
			if (isSaved(getSelected())){
				save(getPathFile(getSelected()));
	   		}
	   		else{
	   			Richfaces.showModalPanel('modalSaveWorkflow');
	   		}
	   	}
	   	
	   	function configureTabsRemote(){
	   	
		    var tabsRemote = jQuery("#tabRemote").tabs().scrollabletab();
		  	tabsRemote.find(".ui-tabs-nav").sortable({
		  	  axis: "x",
		  	  stop: function() {
		  		  tabsRemote.tabs("refresh");
		  	  	}
	  	 	 });
		  	
		  	jQuery("#tabRemote").tabs().tabs('refresh');
		  	
	   	}

	</script>


</head>
<body id="body">

<a4j:keepAlive beanName = "canvasModalBean"/>

<div id="domMessageDivCanvas1" style="display: none;">
	<img src="../image/icons/waiting.gif" />
</div>


<div id="invisible"></div>

	<div id="menu">
		<h:form id="formMenu">
			<h:inputHidden value="#{canvasModalBean.nameElement}" id="nameElement" />
			<h:inputHidden value="#{canvasModalBean.groupID}" id="groupID" />
			<h:inputHidden value="#{canvasModalBean.listPageSize}" />
			
			<a4j:region>
				<a4j:jsFunction name="saveAllPositions" action="#{canvasBean.updateAllPosition}">
					<a4j:actionparam name="allpositions"/>
				</a4j:jsFunction>
            </a4j:region>
            
			<a4j:region>
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="closeAll" action="#{canvasBean.closeAll}" oncomplete="closeAllWorkflowTabs()"/>
			</a4j:region>
				
			<a4j:region>
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="reRenderFooter" oncomplete="mountFooter()" reRender="tabsFooterForm"/>
				<a4j:jsFunction name="mountFooter" oncomplete="configureFooter();mountObj()"/>
			</a4j:region>
			
			<a4j:region>
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="updateOutputStatus" data="#{canvasBean.outputStatus}" oncomplete="updateActionOutputStatus(data[0], data[1], data[2]);" reRender="errorTable" >
					<a4j:actionparam name="groupId"/>
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="updateRunningStatus" data="#{canvasBean.runningStatus}" oncomplete="updateCanvasRunningStatus(data);" reRender="errorTable" />
			</a4j:region>
	
			<a4j:region>
				
				<a4j:jsFunction name="setWorkflow" action="#{canvasBean.changeWorkflow}"
					oncomplete="setSelected('#{canvasBean.nameWorkflow}');verifyIfIsRunning(getSelected());"
					reRender="formMenu,domMessageDivCanvas2" >
					<a4j:actionparam name="selectedCanvas" assignTo="#{canvasBean.nameWorkflow}"/>
				</a4j:jsFunction>
			</a4j:region>
				
			<a4j:region>
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="addWorkflow" action="#{canvasBean.addWorkflow}">
					<a4j:actionparam name="name"/>
				</a4j:jsFunction>
			</a4j:region>
		
			<a4j:region>
			
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="removeLinkBt" action="#{canvasBean.removeLink}">
					<a4j:actionparam name="paramOutId"/>
					<a4j:actionparam name="paramOutName"/>
					<a4j:actionparam name="paramInId"/>
					<a4j:actionparam name="paramInName"/>
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
			
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
								
				<a4j:jsFunction name="removeElement" action="#{canvasBean.removeElement}">
					<a4j:actionparam name="paramGroupID"/>
				</a4j:jsFunction>
			</a4j:region>

			<a4j:region>
				<a4j:jsFunction name="addElementBt" action="#{canvasBean.addElement}">
					<a4j:actionparam name="paramNameElement"/>
					<a4j:actionparam name="paramGroupID"/>
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
			
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="saveWorkflow" action="#{canvasBean.save}" >
					<a4j:actionparam name="nameWorkflow"/>
					<a4j:actionparam name="pathFile"/>
					<a4j:actionparam name="positions"/>
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
                
                <a4j:status onerror="jQuery('#canvas-tabs').unblock();"/>
                
                <a4j:jsFunction name="addLinkBt" data="#{canvasBean.result}" oncomplete="updateLink(data[0], data[1], data[2]);
                	updateArrowColor('#{canvasBean.paramOutId}','#{canvasBean.paramInId}', '#{canvasBean.nameOutput}');" />
            </a4j:region>
			
			<a4j:region>
			     <a4j:status onerror="jQuery('#canvas-tabs').unblock();"
                            onstop="jQuery('#canvas-tabs').unblock();" />
                
                <a4j:jsFunction name="addLinkWhenUniq" 
                                action="#{canvasBean.addLink}" 
                                oncomplete="addLinkBt();"/>
			</a4j:region>
			
			<a4j:region>
			
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"/>
							
				<a4j:jsFunction name="addLinkModalBt" 
				                action="#{canvasBean.updateLinkPossibilities}" 
				                oncomplete="if(#{canvasBean.nbLinkPossibilities} == 1){addLinkWhenUniq();}else{jQuery('#canvas-tabs').unblock();#{rich:component('modalSelectLink')}.show();};
				                "
					reRender="selectLinkList">
					<a4j:actionparam name="paramOutId" assignTo="#{canvasBean.paramOutId}"/>
					<a4j:actionparam name="paramInId" assignTo="#{canvasBean.paramInId}"/>
					<a4j:actionparam name="paramNameLink" assignTo="#{canvasBean.paramNameLink}"/>
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
				<a4j:status	onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="updateArrowColor" data="#{canvasBean.arrowType}" oncomplete="updateArrowType(data[0], data[1], data[2], data[3]);updateArrowLabel(data[0], data[1], '#{canvasBean.linkLabel}');">
					<a4j:actionparam name="groupOutId"/>
					<a4j:actionparam name="groupInId"/>
					<a4j:actionparam name="outputName"/>
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="openModal" action="#{canvasModalBean.openCanvasModal}" oncomplete="if(#{requestScope['msnError'] == null}){ #{rich:component('canvasModalPanel')}.show() }" 
					reRender="pageTitle, panelDynamicForm, panelBtCanvasModal, msnError, errorTable, canvasModalTabPanel" >
					<a4j:actionparam name="paramGroupID" assignTo="#{canvasModalBean.groupID}" />
					<a4j:actionparam name="paramPathImage" assignTo="#{canvasModalBean.pathImage}" />
					<a4j:actionparam name="paramNameWorkflow" assignTo="#{canvasModalBean.nameWorkflow}" />
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
				<a4j:jsFunction name="openChangeIdModal" action="#{canvasBean.openChangeIdModal}" 
					oncomplete="#{rich:component('modalChangeId')}.show();">
					<a4j:actionparam name="paramNameElement" assignTo="#{canvasBean.idGroup}"/>
					<a4j:actionparam name="paramPathImage" assignTo="#{canvasModalBean.pathImage}" />
					<a4j:actionparam name="paramNameWorkflow" value="#{canvasBean.nameWorkflow}" assignTo="#{canvasModalBean.nameElement}" />
				</a4j:jsFunction>
			</a4j:region>
            
            <a4j:region>
                <a4j:status onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
                            onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
                            onstop="jQuery('#canvas-tabs').unblock();" />
                
                <a4j:jsFunction name="openPackageModal" 
                    oncomplete="#{rich:component('modalPackage')}.show();">
                </a4j:jsFunction>
            </a4j:region>
			
			<a4j:region>
				<a4j:jsFunction name="closeChangeIdModal"  
					oncomplete="updateLabelObj('#{canvasBean.idGroup}','#{canvasBean.idElement}');openModal('#{canvasBean.idGroup}','#{canvasModalBean.pathImage}','#{canvasBean.nameWorkflow}');">
				</a4j:jsFunction>
			</a4j:region>

			<a4j:region>
			
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas2') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
			
				<a4j:jsFunction name="loadWorkflow" action="#{canvasBean.blockRunningWorkflow}" data="#{canvasBean.positions}" 
					oncomplete="addElementJs(data[0],data[1],data[2]);addLinksJs(data[0],data[3]);" reRender="tabFlowchart"/>
			</a4j:region>
			
			<a4j:region>
			
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivcanvas-tabs') });"
							onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
							onstop="jQuery('#canvas-tabs').unblock();" />
				
							
				<a4j:jsFunction name="closeWorkflow" action="#{canvasBean.closeWorkflow}">
					<a4j:actionparam name="workflow"/>
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
				<a4j:status	onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });"
								onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
								onstop="jQuery('#canvas-tabs').unblock();" />
				<a4j:jsFunction name="updateIdObj" action="#{canvasBean.updateIdObj}" >
					<a4j:actionparam name="idGroup"/>
					<a4j:actionparam name="id"/>
				</a4j:jsFunction>
			</a4j:region>
			
			<a4j:region>
			
				<a4j:status	onstart="jQuery('#'+getSelected()).block({ message: jQuery('#domMessageDivCanvas2') });" onerror="jQuery('#'+getSelected()).unblock();setRunning(getSelected(), 'test')" />
			
				<div id="domMessageDivCanvas2" style="display: none;">
					<img src="../image/icons/waiting.gif" />
					<h:panelGroup id="right_area" layout="block">
						<h:outputLink id="workflowUrl" value="#{canvasBean.workflowUrl}" target="_blank" rendered="#{canvasBean.workflowUrl != null}">Oozie Console</h:outputLink>
					</h:panelGroup>
				</div>

				<a4j:jsFunction name="updateWorkflowUrl" action="#{canvasBean.blockRunningWorkflow}" oncomplete="jQuery('#'+getSelected()).unblock();setRunning(getSelected(), false);updateRunningStatus();updateAllOutputStatus();">
			</a4j:jsFunction>
			
			</a4j:region>
			<a4j:region>
			   <a4j:jsFunction name="invalidateSession" action="#{canvasBean.reinitialize}" />
			</a4j:region>
			
		    <a4j:region>
				<a4j:jsFunction name="runWorkflow" 
				                action="#{canvasBean.runWorkflow}"
				                oncomplete="setRunning(getSelected(), true);jQuery('#'+getSelected()).block({ message: jQuery('#domMessageDivCanvas2') });updateWorkflowUrl();"
                                reRender="formMenu,domMessageDivCanvas2" >
                            <a4j:actionparam name="positions"/>
                            <a4j:actionparam name="select"/>
                </a4j:jsFunction>
            </a4j:region>
            
            <a4j:region>
            
                <a4j:status onstart="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivcanvas-tabs') });"
                            onerror="jQuery('#canvas-tabs').unblock();" onsuccess="jQuery('#canvas-tabs').unblock();"
                            onstop="jQuery('#canvas-tabs').unblock();" />
                
                            
                <a4j:jsFunction name="backupAll" 
                                action="#{canvasBean.backupAll}"
                                oncomplete="closeWorkflow(getSelected());">
                    <a4j:actionparam name="allpositions"/>
                </a4j:jsFunction>
            </a4j:region>
            
			<a4j:region>
			
			<rich:toolBar >
			
				<rich:dropDownMenu>

					<f:facet name="label">
						<h:panelGroup>
							<h:outputText value="#{messages.label_menu_file}" />
						</h:panelGroup>
					</f:facet>

					<rich:menuItem submitMode="none" value="#{messages.label_menu_new}"
						onclick="jQuery('#addtabCanvas').click();" />
					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_open}" onclick="#{rich:component('modalLoadWorkflow')}.show()" rerender="hdfsfsOpenFile"/>
					<rich:menuItem submitMode="none"
						value="#{messages.label_menu_close}" onclick="menuCloseTab();" />
					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_closeall}" onclick="closeAll();"
						action="#{canvasBean.doNew}" />
					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_save}" onclick="menuSave();" />
					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_saveas}" onclick="#{rich:component('modalSaveWorkflow')}.show()" />
					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_saveall}" onclick="saveAll();"/>

				</rich:dropDownMenu>

				<rich:dropDownMenu>

					<f:facet name="label">
						<h:panelGrid cellpadding="0" cellspacing="0" columns="2"
							style="vertical-align:middle">
							<h:outputText value="#{messages.label_menu_edit}" />
						</h:panelGrid>
					</f:facet>

					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_undo}" action="#{canvasBean.doNew}" />
					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_redo}" action="#{canvasBean.doOpen}" />
					<rich:menuItem submitMode="none"
						value="#{messages.label_menu_delete}" onclick="deleteSelected();" />
					<rich:menuItem submitMode="none"
						value="#{messages.label_menu_selectall}" onclick="selectAll();" />
					<rich:menuItem submitMode="none"
						value="#{messages.label_menu_deselectall}"
						onclick="deselectAll();" />

				</rich:dropDownMenu>

				<rich:dropDownMenu>

					<f:facet name="label">
						<h:panelGrid cellpadding="0" cellspacing="0" columns="2"
							style="vertical-align:middle">
							<h:outputText value="#{messages.label_menu_project}" />
						</h:panelGrid>
					</f:facet>

					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_clean_project}"
						action="#{canvasBean.cleanCanvasProject}" rerender="msnError, errorTable" />
		
					<rich:menuItem submitMode="none">
						<h:outputLink value="#{canvasBean.workflowUrl}" target="_blank">#{messages.label_menu_see_oozie_job}</h:outputLink>
					</rich:menuItem>

					<rich:menuItem submitMode="ajax"
						value="#{messages.label_menu_runproject}"
						onclick="jQuery('#'+getSelected()).block({ message: jQuery('#domMessageDivCanvas1') });runWorkflow(getIconPositions(),getSelectedIconsCommaDelimited())"
						oncomplete="updateWorkflowUrl();"
						reRender="formMenu,domMessageDivCanvas2">
					</rich:menuItem>
                    
                    <rich:menuItem submitMode="ajax"
                        value="#{messages.label_menu_package}"
                        onclick="openPackageModal();">
                    </rich:menuItem>

				</rich:dropDownMenu>


					<rich:toolBarGroup location="right" >
						<rich:dropDownMenu value="#{messages.label_menu_signout}" direction="bottom-left" jointPoint="br" styleClass="search" >
						
							<f:facet name="label">
								<h:panelGrid cellpadding="0" cellspacing="0" columns="2" style="vertical-align:middle">
									<h:outputText value="#{messages.label_menu_signout}" />
								</h:panelGrid>
							</f:facet>
							
							<rich:menuItem submitMode="ajax" value="#{messages.label_menu_signout}" onclick="saveAllPositions(getAllIconPositions());jQuery.blockUI({ message: jQuery('#domMessageDivCanvas1') });signOut();" />
		                    
		                    <rich:menuItem submitMode="ajax" value="#{messages.label_menu_restart}" onclick="jQuery.blockUI({ message: jQuery('#domMessageDivCanvas1') });signOutReLogin();" />
								
						</rich:dropDownMenu>
					</rich:toolBarGroup>

				</rich:toolBar>
				
			</a4j:region>
			
				<a4j:jsFunction name="signOut" action="#{userInfoBean.signOut}" oncomplete="jQuery.unblockUI();" />
				<a4j:jsFunction name="signOutReLogin" action="#{userInfoBean.signOutReLogin}" oncomplete="jQuery.unblockUI();" />
				

		</h:form>

		<rich:spacer width="1" height="15" />

	</div>

	<div id="shortMenu" class="divMenu">

		<center>
			<a onclick="jQuery('#addtabCanvas').click();"><img src="../image/icons/button-new.png" alt="new" class="shortMenuIcon" /></a>
			<a onclick="deleteSelected();"><img id="buttonDelete" src="../image/icons/button-delete.png" alt="open" class="shortMenuIcon" /></a>
			<img src="../image/icons/button-open.png" alt="open" class="shortMenuIcon" onclick="#{rich:component('modalLoadWorkflow')}.show()">
				<a4j:support event="onclick" rerender="hdfsfsOpenFile"/>
			</img>
			<img src="../image/icons/button-save.png" alt="save" class="shortMenuIcon" onclick="#{rich:component('modalSaveWorkflow')}.show()"/>
			<img src="../image/icons/button-save-as.png" alt="saveas" class="shortMenuIcon" />
			<img src="../image/icons/button-save-all.png" alt="saveall" class="shortMenuIcon" />
			<a onclick="undoHistory();"><img src="../image/icons/button-undo.png" alt="undo" class="shortMenuIcon" /></a>
			<a onclick="redoHistory();"><img src="../image/icons/button-redo.png" alt="redo" class="shortMenuIcon" /></a>
			<img src="../image/icons/button-cut.png" alt="cut" class="shortMenuIcon" />
		</center>

	</div>
	
	<div class="splitterV" id="splitterDiv">
		<div>

			<div id="tabFlowchart">
				<ul class="ulCss">

					<li class="locked"><a href="#tabFlowchart-1" id="idtabFlowchart-1"> Flowchart </a></li>
					<button id="changeTabCanvas" style="border: hidden;">&#9660;</button>

				</ul>
				<div id="tabFlowchart-1">

					<div id="canvas-tabs">
						<ul>
							<li class="locked"><a href="#canvas-1" onclick="jQuery('#canvas-tabs').block({ message: jQuery('#domMessageDivCanvas1') });setWorkflow('canvas-1');">canvas-1</a> 
								<span id="canvas-1-icon-close" class="ui-icon ui-icon-close" onclick="closeWorkflowTab(this,'canvas-1')"></span>
							</li>
							<button id="addtabCanvas" style="border: hidden;">+</button>
						</ul>
						
						<span id="buttonsCanvas1" class="spanButtons">
							<button class="buttonsArrowsLeft">&#60;</button>
							<button class="buttonsArrowsRight">&#62;</button>
						</span>

						<div id="canvas-1">

							<div id="container-canvas-1" class="container-canvas-1" >
								<div class="rich-panel" onclick="jQuery('#panelLegend-canvas-1').toggle();return false;"  style="position: fixed; z-index:101; width:190px">
									<div class="rich-panel-header">Legend</div>
								</div>
								<div class="rich-panel" id="panelLegend-canvas-1"  style="position: fixed;  z-index:100; visible:false; width:190px; height:300px">
									<div class="rich-panel-body" style="overflow:hidden;">
										<div id="container-legend-canvas-1" class="container-legend-canvas-1" style="overflow:hidden; position: relative; top:20px;"/>
									</div>
						        </div>
							</div>
							
						</div>
						<h:panelGroup id="tabsFooterForm">
							<div id="tabsFooter">
								<ul>
									
									<ui:repeat value="#{configureTabsBean.tabs}" var="tab" varStatus="status">
										<li><a href="##{tab}">#{tab}</a></li>
									</ui:repeat>
									<a4j:region>
									<a4j:commandButton value="?" onclick="#{rich:component('modalConfigureFooterTabs')}.show()" 
										style="border: hidden;"/>
									</a4j:region>
								</ul>
					
								<span id="buttonsTabsFooter" class="spanButtons">
									<button class="buttonsArrowsLeft">&#60;</button>
									<button class="buttonsArrowsRight">&#62;</button>
								</span>
								
								<ui:repeat value="#{configureTabsBean.menuWAList}" var="tab">
									<div id="#{tab.key}">
										<p>
											<ui:repeat value="#{tab.value}" var="action">
												<span id="spanImagensObj" style="display:none" >
													<img src="#{action[1]}" class="footerIcon" onError="this.onerror=null;this.src='./#{action[1]}';" />
													<span>#{action[0]}</span>
												</span>
											</ui:repeat>
										</p>
									</div>
								</ui:repeat>
							</div>
						</h:panelGroup>

					</div>

				</div>
			</div>


		</div>

		<div id="splitterH">
			<div id="tabs1">
				<ul class="ulCss">

					<li><a href="#tabs-1"> <h:outputText
								value="#{messages.label_tab_help}" />
					</a></li>
					<li><a href="#tabs-2"> <h:outputText
								value="#{messages.label_tab_processmanager}" />
					</a></li>
					<li><a href="#tabs-3"> <h:outputText
								value="#{messages.label_tab_error}" />
					</a></li>
					<li><a href="#tabs-4"> <h:outputText
								value="#{messages.label_tab_hiveview}" />
					</a></li>
					<li><a href="#tabs-5"> <h:outputText
								value="#{messages.label_tab_hbaseview}" />
					</a></li>

					<button id="changeTabTabs1" style="border: hidden;">
						&#9660;</button>

				</ul>

				<span id="buttonsTabs1" class="spanButtons">
					<button class="buttonsArrowsLeft">&#60;</button>
					<button class="buttonsArrowsRight">&#62;</button>
				</span>

				<div id="tabs-1">
					<a4j:region>
					
						<a4j:status	onstart="jQuery('#tabs-1').block({ message: jQuery('#domMessageDiv1') });"
						onerror="jQuery('#tabs-1').unblock();" onsuccess="jQuery('#tabs-1').unblock();"
						onstop="jQuery('#tabs-1').unblock();" />
				
						<div id="domMessageDiv1" style="display: none;">
							<img src="../image/icons/waiting.gif" />
						</div>
					
						<h:panelGroup>
							<ui:include src="/pages/help.xhtml" /> 
						</h:panelGroup>
					</a4j:region>
				</div>
				<div id="tabs-2">
					<a4j:region>
					
						<a4j:status	onstart="jQuery('#tabs-2').block({ message: jQuery('#domMessageDiv2') });"
						onerror="jQuery('#tabs-2').unblock();" onsuccess="jQuery('#tabs-2').unblock();"
						onstop="jQuery('#tabs-2').unblock();" />
				
						<div id="domMessageDiv2" style="display: none;">
							<img src="../image/icons/waiting.gif" />
						</div>
					
						<h:panelGroup>
							<ui:include src="/pages/processManager.xhtml" />
						</h:panelGroup>
					</a4j:region>
				</div>
				<div id="tabs-3">
					
					<h:panelGroup>
						<ui:include src="/pages/errorCanvas.xhtml" />
					</h:panelGroup>
					
				</div>
				<div id="tabs-4">
					<a4j:region>
					
						<a4j:status	onstart="jQuery('#tabs-4').block({ message: jQuery('#domMessageDiv4') });"
							onerror="jQuery('#tabs-4').unblock();" onsuccess="jQuery('#tabs-4').unblock();"
							onstop="jQuery('#tabs-4').unblock();" />
				
						<div id="domMessageDiv4" style="display: none;">
							<img src="../image/icons/waiting.gif" />
						</div>
					
						<h:panelGroup>
							<ui:include src="/pages/hive/hivefileSystemGrid.xhtml" />
						</h:panelGroup>
					</a4j:region>
				</div>
				<div id="tabs-5">
					<p>not ready yet</p>
				</div>
			</div>


			<div id="tabs2">
				<ul class="ulCss">
					<li><a href="#tabs-7"> <h:outputText
								value="#{messages.label_tab_hadoopfilesystem}" />
					</a></li>
					<li><a href="#tabs-8" id="idtabs-8"> <h:outputText
								value="#{messages.label_tab_remotefilesystem}" />
					</a></li>

					<button id="changeTabTabs2" style="border: hidden;">
						&#9660;</button>

				</ul>

				<span id="buttonsTabs2" class="spanButtons">
					<button class="buttonsArrowsLeft">&#60;</button>
					<button class="buttonsArrowsRight">&#62;</button>
				</span>

				<div id="tabs-7">
					<a4j:region>
					
						<a4j:status	onstart="jQuery('#tabs-7').block({ message: jQuery('#domMessageDiv7') });"
							onerror="jQuery('#tabs-7').unblock();" onsuccess="jQuery('#tabs-7').unblock();"
							onstop="jQuery('#tabs-7').unblock();" />
					
						<div id="domMessageDiv7" style="display: none;">
							<img src="../image/icons/waiting.gif" />
						</div>
					
						<h:panelGroup>
							<ui:include src="/pages/hdfs/hdfsfileSystemGrid.xhtml" />
						</h:panelGroup>
					</a4j:region>
				</div>
				<div id="tabs-8">
					<a4j:region>
					
						<a4j:status	onstart="jQuery('#tabs-8').block({ message: jQuery('#domMessageDiv8') });"
							onerror="jQuery('#tabs-8').unblock();" onsuccess="jQuery('#tabs-8').unblock();"
							onstop="jQuery('#tabs-8').unblock();" />
					
						<div id="domMessageDiv8" style="display: none;">
							<img src="../image/icons/waiting.gif" />
						</div>
						
						<h:panelGroup>
							<ui:include src="/pages/ssh/sshfileSystemGrid.xhtml" />
						</h:panelGroup>
					</a4j:region>
				</div>
			</div>

		</div>
	</div>

	<a4j:region>
		<rich:modalPanel id="canvasModalPanel" width="800" height="600" style="overflow:auto;" resizeable="false">
	
			<f:facet name="header"><h:outputText value="#{canvasModalBean.pageTitle}" id="pageTitle" /></f:facet>
			<f:facet name="controls">
				<h:graphicImage value="../image/icons/buttonCloseWindow.gif" style="cursor:pointer" 
					onclick="#{rich:component('canvasModalPanel')}.hide()" />
			</f:facet>
			
				<h:panelGroup>
					<a4j:include viewId="/pages/canvasModal.xhtml" ajaxRendered="false"/>
				</h:panelGroup>
	
		</rich:modalPanel>
	</a4j:region>
	
	<a4j:region renderRegionOnly="true">
		<rich:modalPanel id="modalConfigureFooterTabs" width="600" height="400" style="overflow:auto;" resizeable="false">
	
			<f:facet name="header">Configuration</f:facet>
			<f:facet name="controls">
				<h:graphicImage value="../image/icons/buttonCloseWindow.gif" style="cursor:pointer"
					onclick="#{rich:component('modalConfigureFooterTabs')}.hide()" />
			</f:facet>
	
			<h:form id="formConfigureFooterTabs">
				<h:panelGroup>
					<a4j:include viewId="/pages/configureFooterTabs.xhtml" ajaxRendered="false" />
				</h:panelGroup>
			</h:form>
	
		</rich:modalPanel>
	</a4j:region>
	
	<a4j:region renderRegionOnly="true">
		<rich:modalPanel id="modalSaveWorkflow" width="600" height="400" style="overflow:auto;" resizeable="false">
	
			<f:facet name="header">Save</f:facet>
			<f:facet name="controls">
				<h:graphicImage value="../image/icons/buttonCloseWindow.gif" style="cursor:pointer"
					onclick="#{rich:component('modalSaveWorkflow')}.hide()" />
			</f:facet>
	
			<h:form id="formSaveWorkflow">
				<h:panelGroup>
					<a4j:include viewId="/pages/saveFileHdfs.xhtml" ajaxRendered="false" />
				</h:panelGroup>
			</h:form>
	
		</rich:modalPanel>
	</a4j:region>
	
	<a4j:region renderRegionOnly="true">
		
							
		<rich:modalPanel id="modalLoadWorkflow" width="600" height="400" style="overflow:auto;" resizeable="false"
		 onbeforeshow="refreshHdfsOpenFileTable()">
	
			<f:facet name="header">Load</f:facet>
			<f:facet name="controls">
				<h:graphicImage value="../image/icons/buttonCloseWindow.gif" style="cursor:pointer"
					onclick="#{rich:component('modalLoadWorkflow')}.hide()" />
			</f:facet>
	
			<h:form id="formLoadWorkflow">
				<h:panelGroup>
					<a4j:include viewId="/pages/loadFileHdfs.xhtml" ajaxRendered="false" />
				</h:panelGroup>
			</h:form>
	
		</rich:modalPanel>
	</a4j:region>
	
	<a4j:region renderRegionOnly="true">
		<rich:modalPanel id="modalSelectLink" width="300" height="200" style="overflow:auto;" resizeable="false">
	
			<f:facet name="header">Create Link</f:facet>
			<f:facet name="controls">
				<h:graphicImage value="../image/icons/buttonCloseWindow.gif" style="cursor:pointer"
					onclick="#{rich:component('modalSelectLink')}.hide()" />
			</f:facet>
	
			<h:form id="formSelectLink">
				<h:panelGroup>
					<a4j:include viewId="/pages/selectLink.xhtml" ajaxRendered="true" />
				</h:panelGroup>
			</h:form>
	
		</rich:modalPanel>
	</a4j:region>
	
	<a4j:region renderRegionOnly="true">
		<rich:modalPanel id="modalChangeId" width="300" height="200" style="overflow:auto;" resizeable="false" zindex="2000">
	
			<f:facet name="header">Change Element Id</f:facet>
			<f:facet name="controls">
				<h:graphicImage value="../image/icons/buttonCloseWindow.gif" style="cursor:pointer"
					onclick="#{rich:component('modalChangeId')}.hide()" />
			</f:facet>
	
			<h:form>
				<h:panelGroup>
					<a4j:include viewId="/pages/modalChangeId.xhtml" ajaxRendered="true" />
				</h:panelGroup>
			</h:form>
	
		</rich:modalPanel>
	</a4j:region>
	<a4j:region renderRegionOnly="true">
        <rich:modalPanel id="modalPackage" 
            width="600" height="460" style="overflow:auto;" resizeable="false">
    
            <f:facet name="header">Packages</f:facet>
            <f:facet name="controls">
                <h:graphicImage value="../image/icons/buttonCloseWindow.gif" style="cursor:pointer"
                    onclick="#{rich:component('modalPackage')}.hide()" />
            </f:facet>
    
            <h:form>
                <h:panelGroup>
                    <a4j:include viewId="/pages/modalPackage.xhtml" ajaxRendered="true" />
                </h:panelGroup>
            </h:form>
    
        </rich:modalPanel>
    </a4j:region>
	
		<rich:modalPanel id="msnError" showWhenRendered="#{requestScope['msnError'] != null}">
			<center>
			
				<table>
					<tr>
						<td>
							<rich:messages id="msg" globalOnly="false" layout="list" styleClass="message"
								infoClass="messageok" errorClass="messageerro"
								warnClass="messagealert" showDetail="true" showSummary="false" ajaxRendered="false" />
						</td>
					</tr>
				</table>
			
				<br />
				<br />
				
				<a4j:commandButton value="#{messages.button_ok}" onclick="#{rich:component('msnError')}.hide(); return false;" reRender="msnError, msg, errorTable" />
				
			</center>
		</rich:modalPanel>
		
	
</body>
</html>

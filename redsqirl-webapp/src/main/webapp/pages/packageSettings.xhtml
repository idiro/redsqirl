<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets">
    
<a4j:loadBundle basename="MessagesResources" var="messages" />
    
    <h:form>
    
    
    	<h:panelGroup layout="block" id="pathSetting" >
	    	<ui:repeat value="#{packageMngBean.path}" var="item">
	    		<a4j:commandLink value="#{item}" action="#{packageMngBean.navigationPackageSettings}" reRender="pathSetting, listSubMenuSettings, listSettingSettings" 
	    			style="padding:5px 10px 5px 5px;color:black;text-decoration:none;border:2px solid black;border-bottom-right-radius:20px;border-top-right-radius:20px;" >
		    		<f:param name="name" value="#{item}" />
		    	</a4j:commandLink>
		    	&#32;&#32;
	    	</ui:repeat>
    	</h:panelGroup>
	    
	    <br/>
	    <br/>
	    <br/>
	    
	    <h:panelGroup layout="block" id="listSubMenuSettings" >
	    
	    	<a4j:commandLink title="#{messages.label_add_template}" action="#{packageMngBean.openAddNewTemplate}" oncomplete="#{rich:component('addNewTemplate')}.show();" rendered="#{packageMngBean.template == 'Y'}" >
		    	<img src="../image/icons/button-plus-small.gif" />
		    	<f:param name="name" value="#{packageMngBean.pathPosition}" />
		    </a4j:commandLink>
		    
		    <br/>
	    	<br/>
	    
		    <ui:repeat value="#{packageMngBean.listSubMenu}" var="sc">
		     	<a4j:commandLink value="#{sc.name}" action="#{packageMngBean.navigationPackageSettings}" reRender="pathSetting, listSubMenuSettings, listSettingSettings" 
		     		style="padding:5px;color:black;text-decoration:none;border:2px solid black;" >
		     		<f:param name="name" value="#{sc.name}" />
		     	</a4j:commandLink>
		     	
		     	<a4j:commandLink title="#{messages.label_remove_template}" action="#{packageMngBean.removeNewTemplate}" rendered="#{sc.template == 'Y'}" >
			    	<img src="../image/icons/button-delete-small.gif" />
			    	<f:param name="name" value="#{sc.name}" />
			    </a4j:commandLink>
		     	
		     	<br/>
	    		<br/>
		    </ui:repeat>
	    </h:panelGroup>
     
     	<br/>
     	<br/>
     
     	<h:panelGroup layout="block" id="listSettingSettings" >
	     	<ui:repeat value="#{packageMngBean.listSetting}" var="obj">
	     	
	     		<h:outputText value="#{obj.label}" /><br/>
	     		<h:inputText value="#{obj.value}" /><br/>
	     		
	     		<br/>
	     		<br/>
	     	
	     	</ui:repeat>
     	</h:panelGroup>
     
	    <a4j:commandButton value="#{messages.button_ok}" action="#{packageMngBean.saveSettings}" styleClass="greenButton" />
	    &#32;&#32;
	    <a4j:commandButton value="#{messages.button_cancel}" action="#{packageMngBean.cancelSettings}" styleClass="greenButton" />
     
    
    </h:form>
    
    
    <rich:modalPanel id="addNewTemplate" width="250" height="150" style="overflow:auto;" resizeable="false" >

		<f:facet name="header">
			<h:outputText value='#{messages.label_addNewTemplate}' />
		</f:facet>

		<h:form>
		
			<h:panelGrid>
				<h:outputText value="#{messages.label_addNewTemplate_name}" />
				<h:inputText value="#{packageMngBean.nameNewTemplate}" />
			</h:panelGrid>
					
			<br/><br/>
			
			<center>
				<a4j:commandButton value="#{messages.button_ok}" action="#{packageMngBean.addNewTemplate}" reRender="pathSetting, listSubMenuSettings, listSettingSettings"
					oncomplete="#{rich:component('addNewTemplate')}.hide();" styleClass="greenButton" >
					<f:param name="name" value="#{packageMngBean.packageSelected}" />
				</a4j:commandButton>
				<a4j:commandButton value="#{messages.button_cancel}" oncomplete="#{rich:component('addNewTemplate')}.hide();" styleClass="greenButton" />
			</center>
			
		</h:form>
		
	</rich:modalPanel>
    
</ui:composition>